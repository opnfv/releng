{
  "comments": [
    {
      "key": {
        "uuid": "da33351e_1705f579",
        "filename": "utils/test/testapi/tools/watchdog/docker_watch.sh",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 2651
      },
      "writtenOn": "2017-08-23T02:06:09Z",
      "side": 1,
      "message": "too long, I would suggest splitting into two lines, make it more human-understandable and maintenance-friendly.",
      "revId": "c667defa39b6a415ad13b816c5031b0bf99a56de",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_8567fd24",
        "filename": "utils/test/testapi/tools/watchdog/docker_watch.sh",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 6433
      },
      "writtenOn": "2017-08-26T08:42:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "da33351e_1705f579",
      "revId": "c667defa39b6a415ad13b816c5031b0bf99a56de",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_97262515",
        "filename": "utils/test/testapi/tools/watchdog/docker_watch.sh",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 2651
      },
      "writtenOn": "2017-08-23T02:06:09Z",
      "side": 1,
      "message": "how about naming it more clear such as is_deploying/is_updating?",
      "range": {
        "startLine": 22,
        "startChar": 9,
        "endLine": 22,
        "endChar": 26
      },
      "revId": "c667defa39b6a415ad13b816c5031b0bf99a56de",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_e56ec900",
        "filename": "utils/test/testapi/tools/watchdog/docker_watch.sh",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 6433
      },
      "writtenOn": "2017-08-26T08:42:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "da33351e_97262515",
      "range": {
        "startLine": 22,
        "startChar": 9,
        "endLine": 22,
        "endChar": 26
      },
      "revId": "c667defa39b6a415ad13b816c5031b0bf99a56de",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_177a15f1",
        "filename": "utils/test/testapi/tools/watchdog/docker_watch.sh",
        "patchSetId": 3
      },
      "lineNbr": 43,
      "author": {
        "id": 2651
      },
      "writtenOn": "2017-08-23T02:06:09Z",
      "side": 1,
      "message": "check_connectivity would be better",
      "range": {
        "startLine": 43,
        "startChar": 9,
        "endLine": 43,
        "endChar": 25
      },
      "revId": "c667defa39b6a415ad13b816c5031b0bf99a56de",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_c57105e2",
        "filename": "utils/test/testapi/tools/watchdog/docker_watch.sh",
        "patchSetId": 3
      },
      "lineNbr": 43,
      "author": {
        "id": 6433
      },
      "writtenOn": "2017-08-26T08:42:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "da33351e_177a15f1",
      "range": {
        "startLine": 43,
        "startChar": 9,
        "endLine": 43,
        "endChar": 25
      },
      "revId": "c667defa39b6a415ad13b816c5031b0bf99a56de",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_b71d29c0",
        "filename": "utils/test/testapi/tools/watchdog/docker_watch.sh",
        "patchSetId": 3
      },
      "lineNbr": 82,
      "author": {
        "id": 2651
      },
      "writtenOn": "2017-08-23T02:06:09Z",
      "side": 1,
      "message": "I would suggest leveraging restart, it may be running but in abnormal status",
      "range": {
        "startLine": 82,
        "startChar": 16,
        "endLine": 82,
        "endChar": 21
      },
      "revId": "c667defa39b6a415ad13b816c5031b0bf99a56de",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_77f56182",
        "filename": "utils/test/testapi/tools/watchdog/docker_watch.sh",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 2651
      },
      "writtenOn": "2017-08-23T02:06:09Z",
      "side": 1,
      "message": "two/one is not good named, please use a meaningful name",
      "range": {
        "startLine": 91,
        "startChar": 9,
        "endLine": 91,
        "endChar": 20
      },
      "revId": "c667defa39b6a415ad13b816c5031b0bf99a56de",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_2578b1c3",
        "filename": "utils/test/testapi/tools/watchdog/docker_watch.sh",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 6433
      },
      "writtenOn": "2017-08-26T08:42:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "da33351e_77f56182",
      "range": {
        "startLine": 91,
        "startChar": 9,
        "endLine": 91,
        "endChar": 20
      },
      "revId": "c667defa39b6a415ad13b816c5031b0bf99a56de",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_b7efe9af",
        "filename": "utils/test/testapi/tools/watchdog/docker_watch.sh",
        "patchSetId": 3
      },
      "lineNbr": 110,
      "author": {
        "id": 2651
      },
      "writtenOn": "2017-08-23T02:06:09Z",
      "side": 1,
      "message": "trail with space?",
      "range": {
        "startLine": 110,
        "startChar": 7,
        "endLine": 110,
        "endChar": 8
      },
      "revId": "c667defa39b6a415ad13b816c5031b0bf99a56de",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_0573ede7",
        "filename": "utils/test/testapi/tools/watchdog/docker_watch.sh",
        "patchSetId": 3
      },
      "lineNbr": 110,
      "author": {
        "id": 6433
      },
      "writtenOn": "2017-08-26T08:42:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "da33351e_b7efe9af",
      "range": {
        "startLine": 110,
        "startChar": 7,
        "endLine": 110,
        "endChar": 8
      },
      "revId": "c667defa39b6a415ad13b816c5031b0bf99a56de",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_d749cdd1",
        "filename": "utils/test/testapi/tools/watchdog/docker_watch.sh",
        "patchSetId": 3
      },
      "lineNbr": 112,
      "author": {
        "id": 2651
      },
      "writtenOn": "2017-08-23T02:06:09Z",
      "side": 1,
      "message": "I wouldn\u0027t suggest to mingle them together, it would be better to process a module all together in a complete workflow. And job_status is not checked in run_fix_one, which is incorrect.\nThe proposed process would be:\n    if docker daemon abnormal\n        restart docker daemon\n        restart each module\n        if not all modules ok\n            notify \u0027watchdog fail\u0027\n        exit\n\n    for module in modules:\n        if is not deploying:\n            if container abnormal:\n                restart container\n\n    if none is deploying\n        if not all modules ok\n            restart docker daemon\n            restart each module\n\n    if not all modules ok\n        notify \u0027watchdog fail\u0027",
      "revId": "c667defa39b6a415ad13b816c5031b0bf99a56de",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_6582b995",
        "filename": "utils/test/testapi/tools/watchdog/docker_watch.sh",
        "patchSetId": 3
      },
      "lineNbr": 112,
      "author": {
        "id": 6433
      },
      "writtenOn": "2017-08-26T08:42:30Z",
      "side": 1,
      "message": "Thanks for the detailed flow. How do I check about the docker daemon abnormal. Can we predict or check that ? Abnormal might be a number of cases right ?.",
      "parentUuid": "da33351e_d749cdd1",
      "revId": "c667defa39b6a415ad13b816c5031b0bf99a56de",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_171335b9",
        "filename": "utils/test/testapi/tools/watchdog/docker_watch.sh",
        "patchSetId": 3
      },
      "lineNbr": 123,
      "author": {
        "id": 2651
      },
      "writtenOn": "2017-08-23T02:06:09Z",
      "side": 1,
      "message": "as a watchdog, echo will be invisible to us, maybe write file would be better.",
      "range": {
        "startLine": 123,
        "startChar": 3,
        "endLine": 123,
        "endChar": 7
      },
      "revId": "c667defa39b6a415ad13b816c5031b0bf99a56de",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_457df5b0",
        "filename": "utils/test/testapi/tools/watchdog/docker_watch.sh",
        "patchSetId": 3
      },
      "lineNbr": 123,
      "author": {
        "id": 6433
      },
      "writtenOn": "2017-08-26T08:42:30Z",
      "side": 1,
      "message": "Yeah I will redirect the output to a log file.",
      "parentUuid": "da33351e_171335b9",
      "range": {
        "startLine": 123,
        "startChar": 3,
        "endLine": 123,
        "endChar": 7
      },
      "revId": "c667defa39b6a415ad13b816c5031b0bf99a56de",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}
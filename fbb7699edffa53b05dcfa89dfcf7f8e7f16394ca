{
  "comments": [
    {
      "key": {
        "uuid": "9ab8dda7_a96eddc7",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 34,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T08:38:22Z",
      "side": 1,
      "message": "I would suggest grep and awk stuff to be done in python.",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 34,
        "endChar": 65
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_693f8526",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 34,
      "author": {
        "id": 459
      },
      "writtenOn": "2017-03-24T10:01:17Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "9ab8dda7_a96eddc7",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 34,
        "endChar": 65
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_097a8988",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T08:38:22Z",
      "side": 1,
      "message": "paste a comment with an example output to know what we are parsing",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 35,
        "endChar": 49
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_4948815b",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T08:38:22Z",
      "side": 1,
      "message": "what is iter_num? maybe a more descriptive name is needed here",
      "range": {
        "startLine": 41,
        "startChar": 0,
        "endLine": 41,
        "endChar": 41
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_29b98d2e",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T08:38:22Z",
      "side": 1,
      "message": "Why is this hardcoded? Will host1-3 always be controllers and host4-5 always be computes?\n\nAlso this doesn\u0027t change and should be moved outside the loop.",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 49,
        "endChar": 46
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_893c3931",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 459
      },
      "writtenOn": "2017-03-24T10:01:17Z",
      "side": 1,
      "message": "is there a way to know in compass if a node is controller or compute? \nIn fuel, if you execute the command \"fuel nodes\", it will print you the nodes and their roles. This is the way we parse that info and give a specific role to a each node.",
      "parentUuid": "9ab8dda7_29b98d2e",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 49,
        "endChar": 46
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_893e79b7",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 55,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T08:38:22Z",
      "side": 1,
      "message": "This line is not needed",
      "range": {
        "startLine": 55,
        "startChar": 0,
        "endLine": 55,
        "endChar": 29
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_294bcd5a",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 59,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T08:38:22Z",
      "side": 1,
      "message": "I think these can be moved outside the for loop",
      "range": {
        "startLine": 56,
        "startChar": 0,
        "endLine": 59,
        "endChar": 52
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_09884970",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 72,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T08:38:22Z",
      "side": 1,
      "message": "1. Use source instead of . It will be easier to see\n2. Does this actually work? I have tried\n   node.run_cmd(\"source file; command\") and it didn\u0027t work for me",
      "range": {
        "startLine": 72,
        "startChar": 0,
        "endLine": 72,
        "endChar": 70
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_29498dd0",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 72,
      "author": {
        "id": 459
      },
      "writtenOn": "2017-03-24T10:01:17Z",
      "side": 1,
      "message": "it works and we do it like this:\nhttps://gerrit.opnfv.org/gerrit/gitweb?p\u003dreleng.git;a\u003dblob;f\u003dmodules/opnfv/deployment/fuel/adapter.py;h\u003da217767ba32fe6e5cf5c6364c4e39f6747861e60;hb\u003d961c6ae6880752fcfc87bcce007b0e29b69c5fc1#l170",
      "parentUuid": "9ab8dda7_09884970",
      "range": {
        "startLine": 72,
        "startChar": 0,
        "endLine": 72,
        "endChar": 70
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_091849d2",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 72,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T10:05:39Z",
      "side": 1,
      "message": "Ok. I\u0027ll try again then.",
      "parentUuid": "9ab8dda7_29498dd0",
      "range": {
        "startLine": 72,
        "startChar": 0,
        "endLine": 72,
        "endChar": 70
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_6941c538",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 76,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T08:38:22Z",
      "side": 1,
      "message": "1. A comment explaining why we are interested only in host1\n2. If host1 is always a controller the is_controller check is not needed\n2. Can be rewritten with a list coprehension\n\nnode \u003d next(node for node in self.nodes if node.name \u003d\u003d \u0027host1\u0027)\nversion \u003d node.run_cmd(cmd)",
      "range": {
        "startLine": 73,
        "startChar": 0,
        "endLine": 76,
        "endChar": 21
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_092cc998",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 101,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T08:38:22Z",
      "side": 1,
      "message": "sdn_info \u003d next(node.run_cmd(cmd) for node in self.nodes if node.is_controller())",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 101,
        "endChar": 21
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_497401fd",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 101,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T10:44:39Z",
      "side": 1,
      "message": "Also this will run the command on the first controller it finds. Are we sure the SDN is deployed there?",
      "parentUuid": "9ab8dda7_092cc998",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 101,
        "endChar": 21
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_a957bd01",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 105,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T08:38:22Z",
      "side": 1,
      "message": "can you paste an example string that matches this regex + a comment explaining what we are matching for?",
      "range": {
        "startLine": 105,
        "startChar": 0,
        "endLine": 105,
        "endChar": 64
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_69af85e4",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 112,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T08:38:22Z",
      "side": 1,
      "message": "grep and wc should be done in python",
      "range": {
        "startLine": 112,
        "startChar": 0,
        "endLine": 112,
        "endChar": 63
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_291d0d67",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 117,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T08:38:22Z",
      "side": 1,
      "message": "1. We could use a python mysql client to do that instead of a bash command (https://mysqlclient.readthedocs.io/en/latest/)\n2. At least the sql_query can be initialized in a different string:\n   sql_query \u003d \"SELECT * FROM ....\"\n   cmd \u003d \"mysql -... {sql} ...\".format(sql)\n2. If we don\u0027t want the extra dependency at least the grep stuff should be done in python",
      "range": {
        "startLine": 114,
        "startChar": 0,
        "endLine": 117,
        "endChar": 44
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_8993d9a2",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 126,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T08:38:22Z",
      "side": 1,
      "message": "add an \n\nelse:\n    pass\n\nin the end",
      "range": {
        "startLine": 119,
        "startChar": 0,
        "endLine": 126,
        "endChar": 53
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_c9aa31d4",
        "filename": "modules/opnfv/deployment/compass/adapter.py",
        "patchSetId": 3
      },
      "lineNbr": 126,
      "author": {
        "id": 5579
      },
      "writtenOn": "2017-03-24T08:38:22Z",
      "side": 1,
      "message": "Maybe printing which nodes failed would be more helpful instead of just the number (I don\u0027t know how easy this is)",
      "range": {
        "startLine": 123,
        "startChar": 0,
        "endLine": 126,
        "endChar": 53
      },
      "revId": "fbb7699edffa53b05dcfa89dfcf7f8e7f16394ca",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}
---
- scm:
    name: opnfvdocs-scm
    scm:
      - git:
          url: 'https://gerrit.opnfv.org/gerrit/opnfvdocs'
          refspec: '+refs/heads/*:refs/remotes/origin/* +refs/changes/*:refs/changes/*'

- trigger:
    name: opnfvdocs-patchset-created
    triggers:
      - gerrit:
          trigger-on:
            - patchset-created-event
            - comment-added-contains-event:
                comment-contains-value: 'recheck'
            - comment-added-contains-event:
                comment-contains-value: 'reverify'
          projects:
            - project-compare-type: 'ANT'
              project-pattern: 'opnfvdocs'

- project:
    name: opnfvdocs
    jobs:
      - opnfvdocs-verify-shellcheck
- job-template:
    name: opnfvdocs-verify-shellcheck
    parameters:
      - label:
          name: node
          default: opnfv-build
    scm:
      - opnfvdocs-scm:
          ref: $GERRIT_REFSPEC
    triggers:
      - opnfvdocs-patchset-created
    builders:
      - lint-bash-code

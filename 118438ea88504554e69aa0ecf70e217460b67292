{
  "comments": [
    {
      "key": {
        "uuid": "da33351e_e5f6655c",
        "filename": "jjb/releng/opnfv-docker.sh",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 5807
      },
      "writtenOn": "2017-09-29T08:10:57Z",
      "side": 1,
      "message": "the repo name could inadvertently match a normal process name or even argument. Maybe a bit safer to also grep on \"docker build\"?",
      "revId": "118438ea88504554e69aa0ecf70e217460b67292",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_9bcc1a8b",
        "filename": "jjb/releng/opnfv-docker.sh",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 459
      },
      "writtenOn": "2017-09-29T08:52:20Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "da33351e_e5f6655c",
      "revId": "118438ea88504554e69aa0ecf70e217460b67292",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_7e966340",
        "filename": "jjb/releng/opnfv-docker.sh",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1451
      },
      "writtenOn": "2017-09-29T18:12:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "da33351e_e5f6655c",
      "revId": "118438ea88504554e69aa0ecf70e217460b67292",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_459751ec",
        "filename": "jjb/releng/opnfv-docker.sh",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 5807
      },
      "writtenOn": "2017-09-29T08:10:57Z",
      "side": 1,
      "message": "How many Jenkins build servers and queues per server are there?\n\nThis only works at the level of a build server. Can we have multiple build servers running container builds for the same repo?\n\nIf there are multiple queues on this server they might be all stalled because of multiple build jobs related to the same repo (ie preventing other jobs to run)",
      "revId": "118438ea88504554e69aa0ecf70e217460b67292",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_1ba80a8c",
        "filename": "jjb/releng/opnfv-docker.sh",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 459
      },
      "writtenOn": "2017-09-29T08:52:20Z",
      "side": 1,
      "message": "Agree. This doesn\u0027t solve the problem either as many jobs will be timed out. Example: functest builds several docker images when a patch is merged. They are light weight and take probably less than 20 min to build, but it\u0027s a risk..\nCan we implement a queue in Jenkins for these jobs?",
      "parentUuid": "da33351e_459751ec",
      "revId": "118438ea88504554e69aa0ecf70e217460b67292",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_bee0ebfa",
        "filename": "jjb/releng/opnfv-docker.sh",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-29T16:38:30Z",
      "side": 1,
      "message": "Jenkins doesn\u0027t have custom queues... just one monolith.",
      "parentUuid": "da33351e_1ba80a8c",
      "revId": "118438ea88504554e69aa0ecf70e217460b67292",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da33351e_1ecc7769",
        "filename": "jjb/releng/opnfv-docker.sh",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1451
      },
      "writtenOn": "2017-09-29T18:12:15Z",
      "side": 1,
      "message": "There are about 4 docker build servers, and Jenkins has a single queue.\n\nThis should already be solved by throttling of the builds to one docker-repo build per server: https://gerrit.opnfv.org/gerrit/#/c/43063/\n\nThat change should restrict Jenkins from pulling a job out of it\u0027s queue and placing it on a server that is already running a build for that docker image.",
      "parentUuid": "da33351e_1ba80a8c",
      "revId": "118438ea88504554e69aa0ecf70e217460b67292",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}